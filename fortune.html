<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>fortune2 test page</title>
<style>
body { margin: 0 auto; width: 50% }
.fortune { padding: 20px; border: 1px dotted; }
#new_fortune { margin: 20px 0; }
.fortune {margin: 1em 0;}
</style>
</head>
<body>
<h1>fortune2 test page</h1>
<form action="./" method="get">
    <label for="jar">Select a category</label><br>
    {{if .QJar}}
    <input id="jar" name="jar" list="jarslist" value="{{.QJar}}">
    {{else}}
    <input id="jar" name="jar" list="jarslist" value="(random)">
    {{end}}
    <datalist id="jarslist">
        <option value="(random)">
        {{range .Jars}}
        <option value="{{.}}">
        {{end}}
    </datalist>
    <button id="get_fortune">Get Fortune</button>
</form>
<article class="fortune">
<p>
({{.Fortune.Jar}})<br>
{{.Fortune.Body}}<br>
</p>
</article>
<script>
let get_fortune = document.querySelector("#get_fortune");
get_fortune.addEventListener("click", function(e) {
    window.location.reload(true);
});
</script>
</body>
</html>

